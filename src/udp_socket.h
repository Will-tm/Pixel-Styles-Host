/********************************************************************************************/
/* Copyright (c) 2013 RGB Styles															*/
/********************************************************************************************/

/********************************************************************************************/
/* This file is the confidential trade secret information and/or proprietary information	*/
/* of RGB Styles, Inc. Code or other information in this program also may be confidential	*/
/* and/or proprietary to RGB Styles, Inc.													*/
/* All rights reserved.																		*/
/********************************************************************************************/

/********************************************************************************************/
/* Name : udp_socket.cpp																	*/
/* Date : Oct 12 2013																		*/
/* Author : William Markezana																*/
/********************************************************************************************/

#ifndef __UDP_SOCKET_H__
#define __UDP_SOCKET_H__

using namespace std;

/********************************************************************************************/
/* INCLUDES																					*/
/********************************************************************************************/
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
#include <sys/ioctl.h>
#include <net/if.h>
#include <stdio.h>
#include <string.h>
#include <string>
#include "splitter.h"

/********************************************************************************************/
/* DEFINES																					*/
/********************************************************************************************/
#define UDP_PORT 56616

/********************************************************************************************/
/* TYPEDEFS																					*/
/********************************************************************************************/

/********************************************************************************************/
/* CLASSES																					*/
/********************************************************************************************/
class udp_socket
{
private:
	int	mSock;
	int	mBroadcastSock;
	struct sockaddr_in mBroadcastAddress;
public:
	udp_socket();
	~udp_socket();

	void run(void);
	void broadcastMessage(string pMessage);
	void sendMessageToHost(string pMessage, string pHost, uint16_t pPort);
};

/********************************************************************************************/
/* END OF FILE																				*/
/********************************************************************************************/
#endif
